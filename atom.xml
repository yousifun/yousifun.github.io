<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>有思趣</title>
  
  <subtitle>有思，有趣</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://wiki.yousi.fun/"/>
  <updated>2018-11-15T06:53:20.327Z</updated>
  <id>http://wiki.yousi.fun/</id>
  
  <author>
    <name>yousifun</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>letsencript通配符证书安装</title>
    <link href="http://wiki.yousi.fun/wiki/letsencript%E9%80%9A%E9%85%8D%E7%AC%A6%E8%AF%81%E4%B9%A6%E5%AE%89%E8%A3%85/"/>
    <id>http://wiki.yousi.fun/wiki/letsencript通配符证书安装/</id>
    <published>2018-11-15T06:50:35.266Z</published>
    <updated>2018-11-15T06:53:20.327Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://ws1.sinaimg.cn/large/007cqnI0gy1fx8r2wr40xj30jz0d10t6.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;img src=&quot;https://ws1.sinaimg.cn/large/007cqnI0gy1fx8r2wr40xj30jz0d10t6.jpg&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

      
    
    </summary>
    
      <category term="运维" scheme="http://wiki.yousi.fun/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="SSL" scheme="http://wiki.yousi.fun/tags/SSL/"/>
    
      <category term="https" scheme="http://wiki.yousi.fun/tags/https/"/>
    
      <category term="SSL证书" scheme="http://wiki.yousi.fun/tags/SSL%E8%AF%81%E4%B9%A6/"/>
    
  </entry>
  
  <entry>
    <title>配置sll评级为A+的网站配置</title>
    <link href="http://wiki.yousi.fun/wiki/%E9%85%8D%E7%BD%AEssl%E8%AF%84%E7%BA%A7%E4%B8%BAA+%E7%9A%84%E7%BD%91%E7%AB%99%E9%85%8D%E7%BD%AE/"/>
    <id>http://wiki.yousi.fun/wiki/配置ssl评级为A+的网站配置/</id>
    <published>2018-11-15T02:36:26.310Z</published>
    <updated>2018-11-15T06:48:06.910Z</updated>
    
    <content type="html"><![CDATA[<p>在网站安装了ssl证书后，如果网站还有资源使用http协议，那么chrome、firefox等浏览器会出现不安全的标志。<br>那么只要保证全站的图片等资源都是https协议的就可以保证浏览器不会报“不安全”标志了，并且可以增加网站在搜索引擎中的权重。<br><img src="https://ws1.sinaimg.cn/large/007cqnI0gy1fx8pmo7ndfj30m804ajrv.jpg" alt=""></p><p>当网站全站开启https后，可以去网站<a href="https://myssl.com/" rel="external nofollow noopener noreferrer" target="_blank">https://myssl.com/</a>检测自己的SSL评测等级。一般只要配置得当，至少都是B，但是为了更好地配置符合规范的SSL，可以参照<a href="https://cipherli.st/" rel="external nofollow noopener noreferrer" target="_blank">https://cipherli.st/</a>进行配置。下面是评级很差的网站。<br><img src="https://ws1.sinaimg.cn/large/007cqnI0gy1fx8prmeguyj30uc0fhta2.jpg" alt=""></p><h3 id="下面是评级A-的网站"><a href="#下面是评级A-的网站" class="headerlink" title="下面是评级A+的网站"></a>下面是评级A+的网站</h3><p><img src="https://ws1.sinaimg.cn/large/007cqnI0gy1fx8psompqtj30sw0e3wf6.jpg" alt=""></p><p>下面是我的<code>apache2</code>中的配置，仅供参考。下面中的’xxxx’是网址或者路径，在配置的时候注意更换。<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">VirtualHost</span> *<span class="attr">:443</span>&gt;</span></span><br><span class="line">DocumentRoot "/var/www/xxx"</span><br><span class="line">ServerName xxxxx:443</span><br><span class="line">ErrorLog logs/ssl_error_log</span><br><span class="line">TransferLog logs/ssl_access_log</span><br><span class="line">LogLevel warn</span><br><span class="line">SSLEngine on</span><br><span class="line">SSLCipherSuite EECDH+AESGCM:EDH+AESGCM:AES256+EECDH:AES256+EDH</span><br><span class="line">SSLProtocol All -SSLv2 -SSLv3 -TLSv1 -TLSv1.1</span><br><span class="line">SSLHonorCipherOrder On</span><br><span class="line">Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains; preload"</span><br><span class="line">Header always set X-Frame-Options DENY</span><br><span class="line">Header always set X-Content-Type-Options nosniff</span><br><span class="line">SSLCertificateFile /etc/letsencrypt/live/xxxxx/cert.pem</span><br><span class="line">SSLCertificateKeyFile /etc/letsencrypt/live/xxxxx/privkey.pem</span><br><span class="line">SSLCertificateChainFile /etc/letsencrypt/live/xxxxx/chain.pem</span><br><span class="line"><span class="tag">&lt;<span class="name">Files</span> ~ "\<span class="attr">.</span>(<span class="attr">cgi</span>|<span class="attr">shtml</span>|<span class="attr">phtml</span>|<span class="attr">php3</span>?)$"&gt;</span></span><br><span class="line">    SSLOptions +StdEnvVars</span><br><span class="line"><span class="tag">&lt;/<span class="name">Files</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">Directory</span> "/<span class="attr">var</span>/<span class="attr">www</span>/<span class="attr">xxxxx</span>"&gt;</span></span><br><span class="line">    SSLOptions +StdEnvVars</span><br><span class="line"><span class="tag">&lt;/<span class="name">Directory</span>&gt;</span></span><br><span class="line"></span><br><span class="line">BrowserMatch "MSIE [2-5]" \</span><br><span class="line">         nokeepalive ssl-unclean-shutdown \</span><br><span class="line">         downgrade-1.0 force-response-1.0</span><br><span class="line"></span><br><span class="line">CustomLog logs/ssl_request_log \</span><br><span class="line">          "%t %h %&#123;SSL_PROTOCOL&#125;x %&#123;SSL_CIPHER&#125;x \"%r\" %b"</span><br><span class="line"><span class="tag">&lt;/<span class="name">VirtualHost</span>&gt;</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      在网站安装了ssl证书后，如果网站还有资源使用http协议，那么chrome、firefox等浏览器会出现不安全的标志。
那么只要保证全站的图片等资源都是https协议的就可以保证浏览器不会报“不安全”标志了，并且可以增加网站在搜索引擎中的权重。


当网站全站开启https后，可以去网站https://myssl.com/检测自己的SSL评测等级。一般只要配置得当，至少都是B，但是为了更好地配置符合规范的SSL，可以参照https://cipherli.st/进行配置。下面是评级很差的网站。


下面是评级A+的网站


下面是我的apache2中的配置，仅供参考。下面中的’xxxx’是网址
    
    </summary>
    
      <category term="运维" scheme="http://wiki.yousi.fun/categories/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="SLL" scheme="http://wiki.yousi.fun/tags/SLL/"/>
    
      <category term="HTTPS" scheme="http://wiki.yousi.fun/tags/HTTPS/"/>
    
  </entry>
  
</feed>
